var RandomUtils=function(){function e(){}return e.limit=function(e,t){e=Math.min(e,t),t=Math.max(e,t);var a=t-e;return e+Math.random()*a},e}(),Data=function(){function e(){}return e}(),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},BackPrize=function(e){function t(){var t=e.call(this)||this;return t.car=new Laya.Image("game/car.png"),t.carFront=new Laya.Image("game/car.png"),t.chick=new Laya.Image("game/chick.png"),t.chick.anchorX=.5,t.chick.anchorY=1,t.chick.x=t.car.width/2,t.chick.y=21.5,t.carMask=new Laya.Sprite,t.carMask.graphics.drawRect(0,0,t.car.width,t.car.height,"#ffffff"),t.carMask.y=20,t.carFront.mask=t.carMask,t.reward=new Laya.Image("game/gift1.png"),t.reward.x=t.car.width/2-t.reward.width/2,t.reward.y=t.car.y+47,t.leftWheel=new Laya.Image("game/wheel.png"),t.leftWheel.anchorX=t.leftWheel.anchorY=.5,t.leftWheel.x=35,t.leftWheel.y=t.car.height+7,t.rightWheel=new Laya.Image("game/wheel.png"),t.rightWheel.anchorX=t.rightWheel.anchorY=.5,t.rightWheel.x=t.car.width-33,t.rightWheel.y=t.car.height+7,t.addChild(t.car),t.addChild(t.chick),t.addChild(t.carFront),t.addChild(t.reward),t.addChild(t.leftWheel),t.addChild(t.rightWheel),t.tween1(),t}return __extends(t,e),t.prototype.tween1=function(){var e=this;Laya.Tween.to(this.leftWheel,{rotation:-360},2500,null,Laya.Handler.create(this,function(){e.leftWheel.rotation=0,e.rightWheel.rotation=0,e.tween1()})),Laya.Tween.to(this.rightWheel,{rotation:-360},2500)},t}(Laya.Box),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},View=laya.ui.View,Dialog=laya.ui.Dialog,ui;!function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.dialogUI.uiView)},a}(View);t.uiView={type:"View",props:{width:640,height:1136},child:[{type:"Box",props:{"var":"badDialog",centerX:0,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{skin:"game/badDialog.png"}},{type:"Label",props:{wordWrap:!0,width:395,"var":"badWord",valign:"middle",text:"再接再厉，感觉下次就要中了哦！",height:107,fontSize:26,color:"#8a7da5",centerY:1,centerX:5.5,align:"center"}}]},{type:"Box",props:{width:468,"var":"coinDialog",centerX:0,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{skin:"game/goodDialog.png"}},{type:"Label",props:{y:124,x:55,text:"天降好运，获得",fontSize:26,color:"#8a7da5"}},{type:"Label",props:{y:176,x:55,text:"不要灰心，说不定下次就中咯。",fontSize:26,color:"#8a7da5"}},{type:"Label",props:{y:118,x:247,"var":"coinText",text:"999金币",fontSize:35,color:"#ffb910"}}]},{type:"Box",props:{width:468,"var":"coingiftDialog",centerX:0,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{y:0,x:0,width:468,skin:"game/goodDialog2.png"}},{type:"Label",props:{y:134,x:77,text:"恭喜获得",fontSize:30,color:"#8a7da5"}},{type:"Label",props:{y:124,x:207,"var":"coingiftText",text:"9999金币",fontSize:45,color:"#ffb910"}}]},{type:"Box",props:{x:10,width:468,"var":"giftDialog",centerX:0,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{y:0,x:0,width:468,skin:"game/goodDialog2.png",sizeGrid:"100,45,45,45",height:299}},{type:"Label",props:{y:152,x:65,text:"恭喜获得                   ",fontSize:30,color:"#8a7da5"}},{type:"Label",props:{y:146,x:196.99999999999994,"var":"giftName",text:"IPhone6S",fontSize:37,color:"#ffb910"}},{type:"Label",props:{y:218,text:"恭喜获可在我的兑换订单中查看，有效期30天。",fontSize:18,color:"#11d1cf",centerX:.0107421875}},{type:"Image",props:{y:390,"var":"continueBtn",skin:"game/continueBtn.png",centerX:120,anchorY:.5,anchorX:.5}},{type:"Image",props:{y:390,"var":"goBtn",skin:"game/goBtn.png",centerX:-120,anchorY:.5,anchorX:.5}}]},{type:"Image",props:{y:671,x:320,"var":"sureBtn",skin:"game/sureBtn.png",centerX:0,anchorY:.5,anchorX:.5}}]},e.dialogUI=t}(ui||(ui={})),function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.gameViewUI.uiView)},a}(View);t.uiView={type:"View",props:{width:640,height:1136},child:[{type:"Image",props:{"var":"bg",skin:"game/bg.png",centerX:0,bottom:0}},{type:"Box",props:{x:0,width:640,"var":"inContent",height:1136,bottom:0},child:[{type:"Image",props:{y:536,x:0,skin:"game/floor2.png"}},{type:"Image",props:{y:441,x:27,"var":"mountain",skin:"game/mountain.png"}},{type:"Image",props:{y:573,x:18,"var":"track2",skin:"game/track1_2.png"}},{type:"Image",props:{y:749,x:17.000000000000043,"var":"floor2",skin:"game/frontFloor.png"}},{type:"Image",props:{y:777,x:15,"var":"track",skin:"game/track1.png"}},{type:"Image",props:{y:901.9999999999998,x:208,"var":"reward1",skin:"game/darkpic.png",anchorY:.5,anchorX:.5}},{type:"Image",props:{y:901.9999999999998,x:290.00000000000006,"var":"reward2",skin:"game/darkpic.png",anchorY:.5,anchorX:.5}},{type:"Image",props:{y:901.9999999999998,x:372,"var":"reward3",skin:"game/darkpic.png",anchorY:.5,anchorX:.5}},{type:"Image",props:{y:901,x:440,"var":"star",skin:"game/star.png",anchorY:.5,anchorX:.5}},{type:"Box",props:{y:-609,width:100,"var":"clawLine",height:830,centerX:0},child:[{type:"Image",props:{"var":"line",skin:"game/line.png",centerX:0}},{type:"Box",props:{y:780,width:100,"var":"claw",scaleY:1,scaleX:1,height:150,centerX:0,anchorX:.5},child:[{type:"Image",props:{y:4,skin:"game/clawB.png",centerX:.5}},{type:"Image",props:{y:33,x:65.89909835192596,"var":"rightClaw",skin:"game/clawright.png",rotation:20}},{type:"Image",props:{y:33,x:35.89909835192596,"var":"leftClaw",skin:"game/clawleft.png",rotation:-20,anchorY:0,anchorX:1}},{type:"Image",props:{x:31.899098351925957,"var":"clawF",skin:"game/clawF.png",centerX:.5}}]}]}]},{type:"Image",props:{"var":"outBg",skin:"game/outBg.png",sizeGrid:"115,60,238,60",centerX:0,bottom:0}},{type:"Box",props:{y:131,x:40,width:215,"var":"coinPic",height:60},child:[{type:"Image",props:{skin:"game/coinDi.png"}},{type:"Label",props:{y:10.000000000000057,x:50,"var":"coinNum",valign:"middle",text:"000000000",height:30,fontSize:20,color:"#ffffff",align:"left"}},{type:"Image",props:{y:27.000000000000114,x:186.00000000000009,"var":"coinBtn",skin:"game/buyCoinBtn.png",anchorY:.47,anchorX:.5}},{type:"Image",props:{y:25.000000000000114,x:27.999999999999986,"var":"coin",skin:"game/coin.png",anchorY:.43,anchorX:.5}}]},{type:"Animation",props:{y:317,x:138,"var":"leftFire",source:"fire.ani"}},{type:"Animation",props:{y:317,x:510.00000000000006,"var":"rightFire",source:"fire.ani"}},{type:"Image",props:{"var":"logo",top:-12,skin:"game/freelogo.png",centerX:.5}},{type:"Image",props:{y:160,x:435,"var":"listBtn",skin:"game/listBtn.png",anchorY:.5,anchorX:.5}},{type:"Image",props:{y:160,x:495,"var":"ruleBtn",skin:"game/ruleBtn.png",anchorY:.5,anchorX:.5}},{type:"Image",props:{y:160,x:555,"var":"soundBtn",skin:"game/sound_on.png",anchorY:.5,anchorX:.5}},{type:"Box",props:{x:269,"var":"advanceBtn",bottom:30,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{"var":"advancePic",skin:"game/800Btn_b.png"}},{type:"Label",props:{"var":"advanceNum",text:"800",fontSize:35,color:"#959595",centerY:0,centerX:0}}]},{type:"Box",props:{x:173,"var":"normalBtn",bottom:30,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{"var":"normalPic",skin:"game/300Btn_b.png"}},{type:"Label",props:{"var":"normalNum",text:"300",fontSize:35,color:"#959595",centerY:0,centerX:0}}]},{type:"Image",props:{x:77,"var":"freeBtn",skin:"game/freeBtn.png",bottom:30,anchorY:.5,anchorX:.5}},{type:"Box",props:{x:71.00000000000009,width:59,"var":"freePic",height:38,bottom:85},child:[{type:"Image",props:{y:18,x:29,skin:"game/freePic.png",anchorY:.4,anchorX:.5}},{type:"Label",props:{y:10,x:13,width:30.533203125,"var":"freeNum",height:18,fontSize:18,color:"#ffffff"}}]},{type:"Box",props:{x:462,width:284,"var":"energyBtn",height:95,bottom:22,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{skin:"game/startBtn_d.png"}},{type:"Image",props:{"var":"energyBtn_l",skin:"game/startBtn_l.png"}},{type:"Label",props:{width:256,text:"长按加速",height:50,fontSize:50,color:"#ffffff",centerY:.5,centerX:0,align:"center"}}]},{type:"Box",props:{y:1067,x:461.99999999999994,width:284,"var":"startBtn",height:95,bottom:22,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{skin:"game/startBtn_l.png"}},{type:"Label",props:{width:256,text:"开 始",height:50,fontSize:50,color:"#ffffff",centerY:.5,centerX:0,align:"center"}}]},{type:"Panel",props:{x:0,width:640,"var":"rewardInforGroup",height:62,bottom:131}},{type:"Box",props:{x:0,width:640,height:62,bottom:131}},{type:"Image",props:{y:901,x:440.00000000000017,"var":"star2",skin:"game/star.png",anchorY:.5,anchorX:.5}}]},e.gameViewUI=t}(ui||(ui={})),function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.listInforUI.uiView)},a}(View);t.uiView={type:"View",props:{width:525,height:90},child:[{type:"Image",props:{width:525,"var":"bg",skin:"game/listlight.png",height:90,centerY:0,centerX:0}},{type:"Label",props:{y:13,x:30,width:234,"var":"prizeName",valign:"middle",text:"奖品名称",height:30,fontSize:30,color:"#8e84a2",align:"left"}},{type:"Label",props:{y:13,x:374,width:121,"var":"status",valign:"middle",text:"未夹中",right:30,height:30,fontSize:30,color:"#8e84a2",align:"right"}},{type:"Label",props:{y:52,x:30,width:181,"var":"time",valign:"top",text:"03-05  12:20",height:30,fontSize:25,color:"#8e84a2",bold:!0,align:"left"}},{type:"Label",props:{y:52,x:242,width:253,"var":"cost",valign:"middle",text:"消耗xxx金币",right:30,height:30,fontSize:23,color:"#8e84a2",align:"right"}}]},e.listInforUI=t}(ui||(ui={})),function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.listViewUI.uiView)},a}(View);t.uiView={type:"View",props:{width:640,height:1136},child:[{type:"Box",props:{width:640,"var":"list",height:1136,centerY:0,centerX:0,anchorY:.5,anchorX:.5},child:[{type:"Panel",props:{y:256.00000000000006,x:57.999999999999886,width:525,"var":"listInforGroup",vScrollBarSkin:"game/vscroll.png",height:632,centerX:0}},{type:"Image",props:{y:-101,x:-22,"var":"di",skin:"game/listBg.png",centerY:-53,centerX:0}},{type:"Image",props:{y:-101,x:-22,"var":"closeBtn",skin:"game/closeBtn.png",centerY:432,centerX:0,anchorY:.5,anchorX:.5}}]}]},e.listViewUI=t}(ui||(ui={})),function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.loadViewUI.uiView)},a}(View);t.uiView={type:"View",props:{width:640,height:1136},child:[{type:"Image",props:{y:550,"var":"loadingbg",skin:"loading/loadingBar.png",centerX:0}},{type:"Image",props:{y:555,x:160,"var":"loading",skin:"loading/loadingBar2.png",centerX:0}},{type:"Animation",props:{y:562,x:182,"var":"chickrun",source:"chickrun.ani",scaleY:.6,scaleX:.6}},{type:"Label",props:{y:611,width:233,"var":"word",text:"0%",height:30,fontSize:30,color:"#fecb00",centerX:0,align:"center"}}]},e.loadViewUI=t}(ui||(ui={})),function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.rewardInforUI.uiView)},a}(View);t.uiView={type:"View",props:{width:640,height:62},child:[{type:"Image",props:{visible:!0,skin:"game/icon.png",centerY:0,centerX:-250}},{type:"Label",props:{x:105,width:367,"var":"word",valign:"middle",text:"小葵葵葵葵运气爆棚，中了小米5S一台。",height:32,fontSize:22,color:"#c58745",centerY:0}},{type:"Image",props:{width:44,visible:!0,"var":"pic",skin:"game/icon_pic.png",height:44,centerY:0,centerX:-250}}]},e.rewardInforUI=t}(ui||(ui={})),function(e){var t=function(t){function a(){return t.call(this)||this}return __extends(a,t),a.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.ruleViewUI.uiView)},a}(View);t.uiView={type:"View",props:{width:640,height:1136},child:[{type:"Box",props:{width:640,"var":"rule",height:1136,centerY:0,centerX:0,anchorY:.5,anchorX:.5},child:[{type:"Image",props:{y:-15,x:-25,"var":"closeBtn",skin:"game/closeBtn.png",centerY:432,centerX:0,anchorY:.5,anchorX:.5}},{type:"Image",props:{y:-15,x:-25,"var":"di",skin:"game/ruleBg.png",centerY:-53,centerX:0}},{type:"Panel",props:{y:280,x:117.00000000000006,width:406,"var":"ruleInfor",vScrollBarSkin:"game/vscroll.png",height:533,centerX:0}}]}]},e.ruleViewUI=t}(ui||(ui={}));var __extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},DialogScene=function(e){function t(){var t=e.call(this)||this;return t.width=Data.stageW,t.height=Data.stageH,t.bg=new Laya.Sprite,t.bg.graphics.drawRect(0,0,t.width,t.height,"#000000"),t.addChildAt(t.bg,0),t.bg.alpha=.6,t.bg.width=t.width,t.bg.height=t.height,t.badDialog.y=.4*t.height,t.giftDialog.y=.45*t.height,t.sureBtn.y=.58*t.height,t.coinDialog.y=t.sureBtn.y-t.coinDialog.height/2-80,t.coingiftDialog.y=t.sureBtn.y-t.coingiftDialog.height/2-80,t.badDialog.visible=!1,t.coinDialog.visible=!1,t.coingiftDialog.visible=!1,t.giftDialog.visible=!1,t.sureBtn.visible=!1,t}return __extends(t,e),t.prototype.showContent=function(e,t,a){var i=this;switch(e){case 0:this.badDialog.visible=!0,this.badWord.text="没夹中，下次看准了再出手哦！",this.bg.once(Laya.Event.CLICK,this,this["delete"]);break;case 1:this.badDialog.visible=!0,this.badWord.text="再接再厉，感觉下次就要中了哦！",this.bg.once(Laya.Event.CLICK,this,this["delete"]);break;case 2:this.coinDialog.visible=!0,this.coinText.text=t,this.sureBtn.visible=!0,this.sureBtn.once(Laya.Event.CLICK,this,this["delete"]);break;case 3:this.coingiftDialog.visible=!0,this.coingiftText.text=t,this.sureBtn.visible=!0,this.sureBtn.once(Laya.Event.CLICK,this,this["delete"]);break;case 4:this.giftDialog.visible=!0,this.giftName.text=t,this.goBtn.once(Laya.Event.CLICK,this,function(){i.goGift(a)}),this.continueBtn.once(Laya.Event.CLICK,this,this["delete"]);break;case 5:this.badDialog.visible=!0,this.badWord.text=t,this.bg.once(Laya.Event.CLICK,this,this["delete"])}},t.prototype.goGift=function(e){Laya.Browser.window.goGift(e)},t.prototype["delete"]=function(){this.badDialog.visible=!1,this.coinDialog.visible=!1,this.coingiftDialog.visible=!1,this.giftDialog.visible=!1,this.sureBtn.visible=!1,this.parent.removeChild(this),GameScene.getInstance().checkExtraReward()},t}(ui.dialogUI),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},FrontPrize=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(Laya.Box),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},GameScene=function(e){function t(){var t=e.call(this)||this;return t.width=Data.stageW,t.height=Data.stageH,t.init(),t.speed=1,t.prizeNum=4,t.moveGroup=[],t.backMoveGroup=[],t.prizeContainer=new Laya.Box,t.backprizeContainer=new Laya.Box,t.energyBtnMask=new Laya.Sprite,t.energyBtnMask.graphics.drawRect(0,0,t.energyBtn_l.width,t.energyBtn_l.height,"#000000"),t.energyBtn_l.mask=t.energyBtnMask,t.inContent.addChildAt(t.backprizeContainer,t.inContent.getChildIndex(t.track2)+1),t.inContent.addChildAt(t.prizeContainer,t.inContent.numChildren-2),t.prizeContainer.y=t.track.y-63,t.backprizeContainer.y=t.track.y-63-(t.track.y-t.track2.y)+32,t.onSubmit4(),Laya.timer.loop(1,t,t.onPrizeMove),t.listBtn.on(Laya.Event.CLICK,t,t.onListBtn),t.ruleBtn.on(Laya.Event.CLICK,t,t.onRuleBtn),t.coinBtn.on(Laya.Event.CLICK,t,t.onCoinBtn),t.soundBtn.on(Laya.Event.CLICK,t,t.onSoundBtn),t.freeBtn.on(Laya.Event.CLICK,t,t.onFreeBtn),t.normalBtn.on(Laya.Event.CLICK,t,t.onNormalBtn),t.advanceBtn.on(Laya.Event.CLICK,t,t.onAdvanceBtn),t.startBtn.on(Laya.Event.CLICK,t,t.onStartBtn),Laya.SoundManager.playMusic("sounds/music.mp3",0),t}return __extends(t,e),t.prototype.init=function(){this.star2.scaleX=this.star2.scaleY=0,this.outBg.height=this.height+40,this.coinPic.top=80,this.listBtn.y=107,this.ruleBtn.y=107,this.soundBtn.y=107,this.leftFire.y=.24*this.height,this.rightFire.y=.24*this.height,this.leftFire.play(),this.rightFire.play(),this.clawLine.top=-660+(1138-Data.stageH),this.levelId=1,this.tempReward=0,this.soundOn=!0,this.catchNull=!1,this.energyBtn.visible=!1,this.initResult(),this.onSubmit(),this.onSubmit3()},t.getInstance=function(){return null==t._instance&&(t._instance=new t),t._instance},t.prototype.createPrizes=function(){for(var e=0;e<this.prizeNum;e++){var t=new Prize(!0);t.anchorX=.5,t.anchorY=.5,t.x=.3*Data.stageW+230*e;var a=this.prizeInformation[this.prizeInformation.length-this.prizeNum-1+e];"5"==a.stype?t.showText(a.name):t.changePrize(a.photo_url),t.id=a.id,this.backprizeContainer.addChild(t),t.start(),this.backMoveGroup.push(t)}this.backprizeInforId=this.prizeInformation.length-1;for(var i=function(){var t=new Prize;t.anchorX=.5,t.anchorY=.5,t.x=Data.stageW-t.width-230*e;var a=n.prizeInformation[e];"5"==a.stype?t.showText(a.name):t.changePrize(a.photo_url),t.id=a.id,t.name=a.prizeName,t.stype=a.stype,n.prizeContainer.addChild(t),Laya.timer.once(200*e,n,function(){t.start()}),n.moveGroup.push(t)},n=this,e=0;e<this.prizeNum+1;e++)i();this.prizeInforId=this.prizeNum+1},t.prototype.changePrizes=function(){for(var e=0;e<this.prizeNum;e++){var t=this.backMoveGroup[e],a=this.prizeInformation[this.prizeInformation.length-this.prizeNum-1+e];"5"==a.stype?(t.changePrize("game/gift3.png"),t.showText(a.name)):t.changePrize(a.photo_url),t.id=a.id}this.backprizeInforId=this.prizeInformation.length-1;for(var e=0;e<this.prizeNum+1;e++){var t=this.moveGroup[e],a=this.prizeInformation[e];"5"==a.stype?(t.changePrize("game/gift3.png"),t.showText(a.name)):(t.changePrize(a.photo_url),t.hideText()),t.id=a.id,t.prizeName=a.name,t.stype=a.stype}this.prizeInforId=this.prizeNum+1},t.prototype.createInfor=function(){var e=new RewardInfor;e.pic.skin=this.rewardInformation[0].user_photo_url,e.word.text=this.rewardInformation[0].nickname+"运气爆棚，中了"+this.rewardInformation[0].name,this.rewardInforGroup.addChild(e);var t=new RewardInfor;t.y=e.height,t.pic.skin=this.rewardInformation[1].user_photo_url,t.word.text=this.rewardInformation[1].nickname+"运气爆棚，中了"+this.rewardInformation[1].name,this.rewardInforGroup.addChild(t),this.rewardInforId=2,Laya.timer.once(3e3,this,this.changeRewardInfor)},t.prototype.changeRewardInfor=function(){var e=this;if(this.rewardInforId%2==0)var t=this.rewardInforGroup.getChildAt(0),a=this.rewardInforGroup.getChildAt(1);else var t=this.rewardInforGroup.getChildAt(1),a=this.rewardInforGroup.getChildAt(0);Laya.Tween.to(t,{y:-t.height},500,null,Laya.Handler.create(this,function(){t.pic.skin=e.rewardInformation[e.rewardInforId].user_photo_url,t.word.text=e.rewardInformation[e.rewardInforId].nickname+"运气爆棚，中了"+e.rewardInformation[e.rewardInforId].name,t.y=t.height,e.rewardInforId++,e.rewardInforId>e.rewardInformation.length-1&&(e.rewardInforId=0),Laya.timer.once(3e3,e,e.changeRewardInfor)})),Laya.Tween.to(a,{y:0},500,null)},t.prototype.setTimes=function(e){var t=this;0==e?(this.setTimesAnima(this.reward1,"game/darkpic.png"),this.setTimesAnima(this.reward2,"game/darkpic.png"),this.setTimesAnima(this.reward3,"game/darkpic.png")):1==e?(this.setTimesAnima(this.reward1,"game/lightpic.png"),this.setTimesAnima(this.reward2,"game/darkpic.png"),this.setTimesAnima(this.reward3,"game/darkpic.png")):2==e?(this.setTimesAnima(this.reward1,"game/lightpic.png"),this.setTimesAnima(this.reward2,"game/lightpic.png"),this.setTimesAnima(this.reward3,"game/darkpic.png")):3==e&&(this.setTimesAnima(this.reward1,"game/lightpic.png"),this.setTimesAnima(this.reward2,"game/lightpic.png"),this.setTimesAnima(this.reward3,"game/lightpic.png"),Laya.Tween.to(this.star2,{scaleX:1,scaleY:1},300,null),Laya.Tween.to(this.star2,{x:this.freePic.x+30},600,Laya.Ease.quadOut,null,300),Laya.Tween.to(this.star2,{y:this.freePic.y+10,rotation:-1080},600,null,null,300),Laya.Tween.to(this.star2,{scaleX:0,scaleY:0},200,null,Laya.Handler.create(this,function(){t.star2.x=t.star.x,t.star2.y=t.star.y}),900)),this.freeNum.text="×"+this.free},t.prototype.setTimesAnima=function(e,t){Laya.Tween.to(e,{scaleX:0,scaleY:0},300,null,Laya.Handler.create(e,function(){e.skin=t,Laya.Tween.to(e,{scaleX:1,scaleY:1},300,null)}))},t.prototype.onPrizeMove=function(){for(var e=0;e<this.moveGroup.length;e++)this.moveGroup[e].x+=this.speed,this.moveGroup[e].x>Data.stageW+this.moveGroup[e].width/2&&this.changePrize();for(var e=0;e<this.backMoveGroup.length;e++)this.backMoveGroup[e].x-=this.speed,this.backMoveGroup[e].x<-this.backMoveGroup[e].width/2&&this.changeBackPrize()},t.prototype.changePrize=function(){this.moveGroup[0].x=this.moveGroup[this.moveGroup.length-1].x-230;var e=this.prizeInformation[this.prizeInforId];this.moveGroup[0].id=e.id,this.moveGroup[0].prizeName=e.name,this.moveGroup[0].stype=e.stype,"5"==e.stype?(this.moveGroup[0].changePrize("game/gift3.png"),this.moveGroup[0].showText(e.name)):(this.moveGroup[0].changePrize(e.photo_url),this.moveGroup[0].hideText()),this.moveGroup.push(this.moveGroup.shift()),this.prizeInforId++,this.prizeInforId>this.prizeInformation.length-1&&(this.prizeInforId=0)},t.prototype.changeBackPrize=function(){this.backMoveGroup[0].x=this.backMoveGroup[this.backMoveGroup.length-1].x+230;var e=this.prizeInformation[this.backprizeInforId];this.backMoveGroup[0].id=e.id,"5"==e.stype?(this.backMoveGroup[0].changePrize("game/gift3.png"),this.backMoveGroup[0].showText(e.name)):(this.backMoveGroup[0].changePrize(e.photo_url),this.backMoveGroup[0].hideText()),this.backMoveGroup.push(this.backMoveGroup.shift()),this.backprizeInforId++,this.backprizeInforId>this.prizeInformation.length-1&&(this.backprizeInforId=0)},t.prototype.onStartBtn=function(){var e=this;this.startBtn.mouseEnabled=!1,console.log("conClick");var t;if(2==this.levelId?t=parseInt(this.normalNum.text):3==this.levelId&&(t=parseInt(this.advanceNum.text)),1==this.levelId){if(0==this.free)return this.showDialog(5,"免费次数或金币不足"),void(this.startBtn.mouseEnabled=!0)}else if(parseInt(this.coinNum.text)<t)return this.showDialog(5,"免费次数或金币不足"),void(this.startBtn.mouseEnabled=!0);Laya.Tween.to(this.startBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.startBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){Laya.Tween.to(e.clawLine,{top:-255},700),Laya.Tween.to(e.clawLine,{top:-255},700),Laya.Tween.to(e.claw,{scaleX:1.3,scaleY:1.3},400,null,null,300),Laya.Tween.to(e.leftClaw,{rotation:5},700,null,Laya.Handler.create(e,e.checkPrize)),Laya.Tween.to(e.leftClaw,{rotation:-5},200,Laya.Ease.backIn,null,700),Laya.Tween.to(e.rightClaw,{rotation:-5},700),Laya.Tween.to(e.rightClaw,{rotation:5},200,Laya.Ease.backIn,null,700)}),100)},t.prototype.onListBtn=function(){var e=this;Laya.Tween.to(this.listBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.listBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.listScene?(e.addChild(e.listScene),e.listScene.init()):(e.listScene=new ListScene,e.addChild(e.listScene),e.listScene.centerX=0,e.listScene.centerY=0)}),100)},t.prototype.onRuleBtn=function(){var e=this;Laya.Tween.to(this.ruleBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.ruleBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.ruleScene?(e.addChild(e.ruleScene),e.ruleScene.init()):(e.ruleScene=new RuleScene,e.addChild(e.ruleScene),e.ruleScene.centerX=0,e.ruleScene.centerY=0)}),100)},t.prototype.onCoinBtn=function(){Laya.Tween.to(this.coinBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.coinBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){Laya.Browser.window.addCoin()}),100)},t.prototype.onFreeBtn=function(){var e=this;Laya.Tween.to(this.freeBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.freeBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.changeLevel("free")}),100)},t.prototype.onNormalBtn=function(){var e=this;Laya.Tween.to(this.normalBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.normalBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.changeLevel("normal")}),100)},t.prototype.onAdvanceBtn=function(){var e=this;Laya.Tween.to(this.advanceBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.advanceBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.changeLevel("advance")}),100)},t.prototype.checkPrize=function(){for(var e,t=this,a=700,i=0;i<this.moveGroup.length;i++)Math.abs(this.moveGroup[i].x-320)<a&&(a=Math.abs(this.moveGroup[i].x-320),e=i);var n=70;if(n>a){this.startBtn.visible=!1,this.energyBtn.visible=!0,this.energyBtnMask.x=-this.energyBtn_l.width,this.catchPrize=this.moveGroup[e],this.prizeContainer.removeChild(this.catchPrize),this.inContent.addChild(this.catchPrize),this.catchPrize.x=320,this.catchPrize.y=this.track.y-63,this.catchPrize.stopWheel(),this.moveGroup.splice(e,1),this.dis=this.clawLine.top-(-660+(1138-Data.stageH));var r=RandomUtils.limit(.6,1);this.dropDis=this.clawLine.top-this.dis*r,this.onSubmit2(),this.lineSpeed=1,this.energySpeed=this.lineSpeed*this.dis/this.energyBtn_l.width,this.energyBtn.on(Laya.Event.MOUSE_DOWN,this,this.onTouch),this.playSound("up",3),Laya.timer.once(200,this,function(){Laya.timer.loop(1,t,t.startEnergy)}),this.energyBtn.on(Laya.Event.MOUSE_UP,this,this.touchEnd)}else this.catchNull=!0,this.onSubmit2(),this.showDialog(0),Laya.Tween.to(this.clawLine,{top:-660+(1138-Data.stageH)},1200,null,Laya.Handler.create(this,function(){t.startBtn.mouseEnabled=!0}),300),Laya.Tween.to(this.leftClaw,{rotation:-20},400,null,null),Laya.Tween.to(this.rightClaw,{rotation:20},400,null,null),Laya.Tween.to(this.claw,{scaleX:1,scaleY:1},400,null,null,100)},t.prototype.onTouch=function(){this.lineSpeed=4,this.energySpeed=this.lineSpeed*this.dis/this.energyBtn_l.width},t.prototype.touchEnd=function(){this.lineSpeed=1,this.energySpeed=this.lineSpeed*this.dis/this.energyBtn_l.width},t.prototype.startEnergy=function(){this.energyBtnMask.x+=this.energySpeed,this.clawLine.top-=this.lineSpeed,this.catchPrize.y-=this.lineSpeed,this.energyBtnMask.x>=0&&(this.energyBtnMask.x=0),this.clawLine.top<=this.dropDis&&(this.isChecked||0!=this.isCatched||this.playFail()),this.clawLine.top<=-660+(1138-Data.stageH)&&this.endEnergy()},t.prototype.endEnergy=function(){var e=this;this.energyBtn.offAll(),Laya.timer.clear(this,this.startEnergy),Laya.SoundManager.stopSound("sounds/up.mp3"),Laya.Tween.to(this.energyBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.energyBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.energyBtnMask.x=0,e.clawLine.top=-660+(1138-Data.stageH),e.startBtn.visible=!0,e.energyBtn.visible=!1}),100),this.isChecked||1!=this.isCatched||this.playSuccess()},t.prototype.playSuccess=function(){var e=this;console.log("success"),this.isChecked=!0,this.playSound("get",1),"5"==this.catchPrize.stype?this.showDialog(3,this.catchPrize.prizeName,this.catchPrize.stype):this.showDialog(4,this.catchPrize.prizeName),Laya.Tween.to(this.leftClaw,{rotation:-20},500,null,null,500),Laya.Tween.to(this.rightClaw,{rotation:20},500,null,null,500),Laya.Tween.to(this.claw,{scaleX:1,scaleY:1},500,null,null,500),Laya.Tween.to(this.catchPrize,{scaleX:.2,scaleY:.2},1e3,Laya.Ease.backIn,null),Laya.Tween.to(this.catchPrize,{y:this.listBtn.y+(1138-Data.stageH)},1e3,Laya.Ease.backIn,Laya.Handler.create(this,function(){}),1100),Laya.Tween.to(this.catchPrize,{x:this.listBtn.x},1e3,Laya.Ease.backOut,Laya.Handler.create(this,function(){e.startBtn.mouseEnabled=!0,e.backToGroup(),e.initResult()}),1100)},t.prototype.playFail=function(){var e=this;console.log("fail"),this.isChecked=!0,this.playSound("fail",1),this.showDialog(1),Laya.Tween.to(this.leftClaw,{rotation:-20},500,null,null,500),Laya.Tween.to(this.rightClaw,{rotation:20},500,null,null,500),Laya.Tween.to(this.claw,{scaleX:1,scaleY:1},500,null,null,500),Laya.Tween.to(this.catchPrize,{y:this.track.y+100},1200,Laya.Ease.cubicIn,Laya.Handler.create(this,function(){e.startBtn.mouseEnabled=!0,e.backToGroup(),e.initResult()})),Laya.timer.once(300,this,function(){e.inContent.setChildIndex(e.catchPrize,e.inContent.getChildIndex(e.floor2))})},t.prototype.checkExtraReward=function(){this.tempReward>0&&this.showDialog(2,this.tempReward+"金币"),this.tempReward=0},t.prototype.wrongMessage=function(){console.log("wrong"),this.energyBtn.offAll(),Laya.timer.clear(this,this.startEnergy),this.energyBtnMask.x=0,this.startBtn.visible=!0,this.energyBtn.visible=!1,Laya.Tween.clearAll(this.clawLine),this.clawLine.top=-660+(1138-Data.stageH),Laya.Tween.clearAll(this.leftClaw),this.leftClaw.rotation=-20,Laya.Tween.clearAll(this.rightClaw),this.rightClaw.rotation=20,Laya.Tween.clearAll(this.claw),this.claw.scaleX=this.claw.scaleY=1,this.backToGroup(),this.initResult(),this.startBtn.mouseEnabled=!0},t.prototype.backToGroup=function(){Laya.Tween.clearAll(this.catchPrize),this.inContent.removeChild(this.catchPrize),this.prizeContainer.addChild(this.catchPrize),this.catchPrize.y=0,this.catchPrize.x=this.moveGroup[this.moveGroup.length-1].x-230,this.catchPrize.scaleX=this.catchPrize.scaleY=1,this.catchPrize.startWheel(),this.moveGroup.push(this.catchPrize)},t.prototype.changeLevel=function(e){"free"==e?(this.freeBtn.skin="game/freeBtn.png",this.normalPic.skin="game/300Btn_b.png",this.advancePic.skin="game/800Btn_b.png",this.normalNum.color="#959595",this.advanceNum.color="#959595",this.logo.skin="game/freelogo.png",this.track.skin="game/track1.png",this.track2.skin="game/track1_2.png",this.line.skin="game/line.png",this.clawF.skin="game/clawF.png",this.changeCar("car",e),this.levelId=1):"normal"==e?(this.freeBtn.skin="game/freeBtn_b.png",this.normalPic.skin="game/300Btn.png",this.advancePic.skin="game/800Btn_b.png",this.normalNum.color="#ffffff",this.advanceNum.color="#959595",this.logo.skin="game/logo2.png",this.track.skin="game/track2.png",this.track2.skin="game/track2_2.png",this.line.skin="game/line2.png",this.clawF.skin="game/clawF_2.png",this.changeCar("car2",e),this.levelId=2):"advance"==e&&(this.freeBtn.skin="game/freeBtn_b.png",this.normalPic.skin="game/300Btn_b.png",this.advancePic.skin="game/800Btn.png",this.normalNum.color="#959595",this.advanceNum.color="#ffffff",this.logo.skin="game/logo3.png",this.track.skin="game/track2.png",this.track2.skin="game/track2_2.png",this.line.skin="game/line2.png",this.clawF.skin="game/clawF_2.png",this.changeCar("car3",e),this.levelId=3),this.onSubmit4()},t.prototype.changeCar=function(e,t){for(var a=0;a<this.backprizeContainer.numChildren;a++){var i=this.backprizeContainer.getChildAt(a);i.showCrown(t),i.carImage=e}for(var a=0;a<this.prizeContainer.numChildren;a++){var i=this.prizeContainer.getChildAt(a);i.showCrown(t),i.carImage=e}},t.prototype.initResult=function(){this.isChecked=!1,this.isCatched=-1},t.prototype.showDialog=function(e,t,a){this.dialogScene?this.addChild(this.dialogScene):(this.dialogScene=new DialogScene,this.addChild(this.dialogScene)),this.dialogScene.showContent(e,t,a)},t.prototype.onSubmit=function(){var e="http://118.178.234.14:5500/interface/GetUserKmoney.php?",t=new Laya.HttpRequest;t.on(Laya.Event.COMPLETE,this,this.onComplete),t.on(Laya.Event.ERROR,this,this.onError),t.send(e,"token="+Data.token+"&game=ufo_catcher","post","json")},t.prototype.onComplete=function(e){var t=this,a=e;"1"==a.Header.Result?(console.log(a),this.coinNum.text=a.Kmoney,this.normalNum.text=a.Zone_medium,this.advanceNum.text=a.Zone_advanced,this.free=parseInt(a.Tickets),"0"==a.Times?Laya.timer.once(800,this,function(){t.setTimes(parseInt(a.Times))}):this.setTimes(parseInt(a.Times)),this.coinNum.text.length<7?this.coinNum.fontSize=30:this.coinNum.text.length>8?this.coinNum.fontSize=20:this.coinNum.fontSize=24):this.showDialog(5,a.Header.Msg);
},t.prototype.onError=function(e){this.showDialog(5,"网络错误")},t.prototype.onSubmit2=function(){var e="http://118.178.234.14:5500/interface/UfoCatcherResult.php?",t=new Laya.HttpRequest;t.on(Laya.Event.COMPLETE,this,this.onComplete2),t.on(Laya.Event.ERROR,this,this.onError2),t.send(e,"token="+Data.token+"&zone="+this.levelId+"&gid="+(this.catchNull?-1:this.catchPrize.id),"post","json")},t.prototype.onComplete2=function(e){var t=e;console.log(t),this.catchNull?this.catchNull=!1:"1"==t.Header.Result?(this.isCatched=1,this.clawLine.top<=-660+(1138-Data.stageH)&&!this.isChecked&&this.playSuccess()):"0"==t.Header.Result?(this.isCatched=0,parseInt(t.Reward)>0&&(this.tempReward=parseInt(t.Reward)),this.clawLine.top<=this.dropDis&&!this.isChecked&&this.playFail()):(this.showDialog(5,t.Header.Msg),this.wrongMessage()),"3"==t.Times&&this.setTimes(3),this.onSubmit()},t.prototype.onError2=function(e){this.showDialog(5,"网络错误"),this.wrongMessage()},t.prototype.onSubmit3=function(){var e="http://118.178.234.14:5500/interface/UfoCatcherBroadcast.php",t=new Laya.HttpRequest;t.on(Laya.Event.COMPLETE,this,this.onComplete3),t.on(Laya.Event.ERROR,this,this.onError3),t.send(e,null,"post","json")},t.prototype.onComplete3=function(e){var t=e;"1"==t.Header.Result?(this.rewardInformation=t.Content,this.createInfor(),console.log(t)):this.showDialog(5,t.Header.Msg)},t.prototype.onError3=function(e){this.showDialog(5,"网络错误")},t.prototype.onSubmit4=function(){var e="http://118.178.234.14:5500/interface/UfoCatcherGoods.php?",t=new Laya.HttpRequest;t.on(Laya.Event.COMPLETE,this,this.onComplete4),t.on(Laya.Event.ERROR,this,this.onError4),t.send(e,"zone="+this.levelId,"post","json")},t.prototype.onComplete4=function(e){var t=e;"1"==t.Header.Result?(this.prizeInformation=t.Content,console.log(t),0==this.moveGroup.length?this.createPrizes():this.changePrizes()):this.showDialog(5,t.Header.Msg)},t.prototype.onError4=function(e){this.showDialog(5,"网络错误")},t.prototype.onSoundBtn=function(){var e=this;Laya.Tween.to(this.soundBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.soundBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.soundOn?(e.soundOn=!1,e.soundBtn.skin="game/sound_off.png",Laya.SoundManager.stopAll()):(e.soundOn=!0,e.soundBtn.skin="game/sound_on.png",Laya.SoundManager.playMusic("sounds/music.mp3",0))}),100)},t.prototype.playSound=function(e,t){this.soundOn&&Laya.SoundManager.playSound("sounds/"+e+".mp3",t)},t}(ui.gameViewUI),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},ListInfor=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.setBgSkin=function(e){this.bg.skin="game/"+e+".png"},t}(ui.listInforUI),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},ListScene=function(e){function t(){var t=e.call(this)||this,a=new Laya.Sprite;return a.graphics.drawRect(0,0,t.width,t.height,"#000000"),t.addChildAt(a,0),a.alpha=.6,t.listInforGroup.vScrollBar.hide=!0,t.listInforGroup.vScrollBar.elasticBackTime=200,t.list.scaleX=t.list.scaleY=Data.stageH/1138,t.init(),t}return __extends(t,e),t.prototype.init=function(){this.closeBtn.once(Laya.Event.MOUSE_DOWN,this,this.close),this.onSubmit()},t.prototype.close=function(){var e=this;console.log("close"),Laya.Tween.to(this.closeBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.closeBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.listInforGroup.removeChildren(),e.parent.removeChild(e)}),100)},t.prototype.onSubmit=function(){var e="http://118.178.234.14:5500/interface/UfoCatcherUserHistory.php?",t=new Laya.HttpRequest;t.on(Laya.Event.COMPLETE,this,this.onComplete),t.on(Laya.Event.ERROR,this,this.onError),t.send(e+"token="+Data.token,null,"post","json")},t.prototype.onComplete=function(e){var t=e;if("1"==t.Header.Result)for(var a=0;a<t.Content.length;a++){var i=new ListInfor;i.y=90*a,i.setBgSkin(a%2==0?"listLight":"listDark"),i.prizeName.text=t.Content[a].name,i.status.text=t.Content[a].status,i.time.text=t.Content[a].time,i.cost.text="消耗"+t.Content[a].cost+"金币",this.listInforGroup.addChild(i)}else GameScene.getInstance().showDialog(5,t.Header.Msg)},t.prototype.onError=function(e){GameScene.getInstance().showDialog(5,"网络错误")},t}(ui.listViewUI),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},LoadingScene=function(e){function t(){var t=e.call(this)||this;return t.width=Data.stageW,t.height=Data.stageH,t.bg=new Laya.Sprite,t.bg.graphics.drawRect(0,0,t.width,t.height,"#514aab"),t.loadingbar2=new Laya.Image("loading/loadingBar2.png"),t.loading.mask=t.loadingbar2,t.loadingbar2.x=-t.loading.width,t.loadingbg.y=t.height/2-t.loadingbg.height/2,t.loading.y=t.height/2-t.loading.height/2,t.word.y=t.loadingbg.y+60,t.chickrun.play(),t.chickrun.y=t.loadingbg.y+10,t.addChildAt(t.bg,0),t}return __extends(t,e),t.prototype.remove=function(){this.chickrun.stop(),this.parent.removeChild(this)},t}(ui.loadViewUI),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},Prize=function(e){function t(t){void 0===t&&(t=!1);var a=e.call(this)||this;return a.isBack=t,a.prize=new Laya.Box,a.prize.width=159,a.prize.height=231,a.car=new Laya.Image("game/car.png"),a.car.y=50,a.carFront=new Laya.Image("game/car.png"),a.carFront.y=50,a.chick=new Laya.Animation,a.chick.loadAnimation("chick.ani"),a.chick.x=a.car.width/2,a.chick.y=120,a.crown=new Laya.Image("game/crown.png"),a.crown.x=36,a.crown.y=0,a.carMask=new Laya.Sprite,a.carMask.graphics.drawRect(0,0,a.car.width,a.car.height,"#ffffff"),a.carMask.y=20,a.carFront.mask=a.carMask,a.reward=new Laya.Image("game/gift3.png"),a.reward.x=a.car.width/2-a.reward.width/2,a.reward.y=a.car.y+47,a.rewardText=new Laya.Label,a.rewardText.text="30金币",a.rewardText.align="center",a.rewardText.color="#ffffff",a.rewardText.fontSize=20,a.rewardText.width=100,a.rewardText.centerX=0,a.rewardText.y=a.reward.y+68,a.rewardText.text="100金币",a.leftWheel=new Laya.Image("game/wheel.png"),a.leftWheel.anchorX=a.leftWheel.anchorY=.5,a.leftWheel.x=35,a.leftWheel.y=a.car.height+57,a.rightWheel=new Laya.Image("game/wheel.png"),a.rightWheel.anchorX=a.rightWheel.anchorY=.5,a.rightWheel.x=a.car.width-33,a.rightWheel.y=a.car.height+57,a.addChild(a.prize),a.prize.addChild(a.car),a.prize.addChild(a.crown),a.prize.addChild(a.chick),a.prize.addChild(a.carFront),a.prize.addChild(a.reward),a.prize.addChild(a.rewardText),a.prize.addChild(a.leftWheel),a.prize.addChild(a.rightWheel),a.tween1(),a.crown.visible=!1,a.isBack?a.createBackPrize():a.createPrize(),a.rewardText.visible=!1,a}return __extends(t,e),t.prototype.start=function(){var e=this;Laya.Tween.to(this.chick,{y:55},600,Laya.Ease.backOut),Laya.timer.once(600,this.chick,function(){e.chick.play()})},t.prototype.createPrize=function(){},t.prototype.createBackPrize=function(){this.maska=new Laya.Image("game/car_mask.png"),this.maska.width=159,this.maska.height=229,this.maska.y=2,this.prize.addChild(this.maska),this.prize.scaleX=this.prize.scaleY=.5},t.prototype.stopWheel=function(){Laya.Tween.clearTween(this.leftWheel),Laya.Tween.clearTween(this.rightWheel)},t.prototype.startWheel=function(){this.leftWheel.rotation=0,this.leftWheel.rotation=0,this.tween1()},t.prototype.tween1=function(){var e=this;Laya.Tween.to(this.leftWheel,{rotation:this.isBack?-360:360},2500,null,Laya.Handler.create(this,function(){e.leftWheel.rotation=0,e.rightWheel.rotation=0,e.tween1()})),Laya.Tween.to(this.rightWheel,{rotation:this.isBack?-360:360},2500)},Object.defineProperty(t.prototype,"carImage",{set:function(e){this.car.skin="game/"+e+".png",this.carFront.skin="game/"+e+".png"},enumerable:!0,configurable:!0}),t.prototype.showCrown=function(e){"advance"==e?(this.crown.visible=!0,this.maska&&(this.maska.skin="game/car_mask2.png")):(this.crown.visible=!1,this.maska&&(this.maska.skin="game/car_mask.png"))},t.prototype.showText=function(e){this.rewardText.text=e,this.rewardText.visible=!0},t.prototype.hideText=function(){this.rewardText.visible=!1},t.prototype.changePrize=function(e){this.reward.skin=e},t}(Laya.Box),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},RewardInfor=function(e){function t(){var t=e.call(this)||this,a=new Laya.Image("game/icondi.png");return a.x=2,a.y=2,t.pic.mask=a,t}return __extends(t,e),t}(ui.rewardInforUI),__extends=this&&this.__extends||function(e,t){function a(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)},RuleScene=function(e){function t(){var t=e.call(this)||this,a=new Laya.Sprite;return a.graphics.drawRect(0,0,t.width,t.height,"#000000"),t.addChildAt(a,0),a.alpha=.6,t.ruleInfor.vScrollBar.hide=!0,t.ruleInfor.vScrollBar.elasticBackTime=200,t.ruleInfor.vScrollBar.elasticDistance=50,t.rule.scaleX=t.rule.scaleY=Data.stageH/1138,t.closeBtn.once(Laya.Event.CLICK,t,t.close),t}return __extends(t,e),t.prototype.init=function(){this.closeBtn.once(Laya.Event.CLICK,this,this.close)},t.prototype.close=function(){var e=this;Laya.Tween.to(this.closeBtn,{scaleX:.9,scaleY:.9},100),Laya.Tween.to(this.closeBtn,{scaleX:1,scaleY:1},100,null,Laya.Handler.create(this,function(){e.parent.removeChild(e)}),100)},t}(ui.ruleViewUI),GameMain=function(){function e(){Laya.init(640,1136),Laya.stage.scaleMode=Laya.Stage.SCALE_FIXED_WIDTH,Laya.stage.alignH=Laya.Stage.ALIGN_CENTER,Laya.stage.alignV=Laya.Stage.ALIGN_MIDDLE,Data.sca=Laya.Browser.height/Laya.Browser.width,Data.stageW=Laya.stage.width,Data.stageH=Data.stageW*Data.sca,Data.token=Laya.Browser.window.getParameter("token");var e=[{url:"res/atlas/loading.json",type:Laya.Loader.ATLAS}];Laya.loader.load(e,Laya.Handler.create(this,this.loadRes))}return e.prototype.createLoading=function(){this.loadingScene=new LoadingScene,Laya.stage.addChild(this.loadingScene)},e.prototype.loadRes=function(){this.createLoading();var e=[{url:"res/atlas/game.json",type:Laya.Loader.ATLAS},{url:"game/bg.png",type:Laya.Loader.IMAGE},{url:"game/floor2.png",type:Laya.Loader.IMAGE},{url:"game/frontFloor.png",type:Laya.Loader.IMAGE},{url:"game/line.png",type:Laya.Loader.IMAGE},{url:"game/line2.png",type:Laya.Loader.IMAGE},{url:"game/listBg.png",type:Laya.Loader.IMAGE},{url:"game/listdark.png",type:Laya.Loader.IMAGE},{url:"game/listlight.png",type:Laya.Loader.IMAGE},{url:"game/mountain.png",type:Laya.Loader.IMAGE},{url:"game/outBg.png",type:Laya.Loader.IMAGE},{url:"game/ruleBg.png",type:Laya.Loader.IMAGE},{url:"game/track.png",type:Laya.Loader.IMAGE},{url:"game/track1_2.png",type:Laya.Loader.IMAGE},{url:"game/track1.png",type:Laya.Loader.IMAGE},{url:"game/track2_2.png",type:Laya.Loader.IMAGE},{url:"game/track2.png",type:Laya.Loader.IMAGE}];Laya.loader.load(e,Laya.Handler.create(this,this.onLoadComplete),Laya.Handler.create(this,this.onProgress,null,!1))},e.prototype.onLoadComplete=function(){this.loadingScene.remove(),this.gameScene=GameScene.getInstance(),Laya.stage.addChild(this.gameScene)},e.prototype.onProgress=function(e){this.loadingScene.word.text=Math.round(100*e)+"%",this.loadingScene.loadingbar2.x=-this.loadingScene.loading.width+e*this.loadingScene.loading.width,this.loadingScene.chickrun.x=this.loadingScene.loading.x+e*this.loadingScene.loading.width,console.log("加载了总文件的:"+Math.round(100*e)+"%")},e}();new GameMain;